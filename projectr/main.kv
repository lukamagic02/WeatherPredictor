ScreenManager:
    HomeScreen:
    SecondScreen:
    PredictionScreen:

<HomeScreen>:
    name: "homeScreen"
    Screen:
        BoxLayout:
            orientation: "vertical"
            spacing: "10dp"
            MDTopAppBar:
                title: "Weather Prediction Application"
            Widget:

        MDRaisedButton:
            text: "Open date picker"
            pos_hint: {'center_x': .5, 'center_y': .7}
            on_release: root.show_date_picker()

        MDLabel:
            id:date_label
            text: ""
            size_hint_x: None
            width: dp(300)
            pos_hint: {'center_x': .55, 'center_y': 0.64}

        MDRaisedButton:
            text: "Pick Granularity"
            pos_hint: {"center_x": .5, "center_y": .57}
            on_release: root.show_granularity()

        MDLabel:
            id: granularity_label
            text: ""
            size_hint_x: None
            width: dp(300)
            pos_hint: {'center_x': .55, 'center_y': 0.50}

        MDRaisedButton:
            text: "Pick Data Type"
            pos_hint: {"center_x": .5, "center_y": .43}
            on_release: root.show_data_type()

        MDLabel:
            id: data_type_label
            text: ""
            size_hint_x: None
            width: dp(300)
            pos_hint: {'center_x': 0.55, 'center_y': 0.37}

        MDRectangleFlatButton:
            text: "Submit"
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            on_press: root.on_submit()

        MDLabel:
            id: alert
            text: ""
            size_hint_x: None
            width: dp(300)
            pos_hint: {'center_x': 0.6, 'center_y': 0.23}

<PredictionScreen>:
    name: "predictionScreen"
    Screen:
        BoxLayout:
            orientation: "vertical"
            MDTopAppBar:
                left_action_items: [["arrow-left-bold-box", lambda x: setattr(root.manager, 'current', 'secondScreen')]]
                title: "Weather Prediction Application"
            Widget:

<SecondScreen>:
    name: "secondScreen"

    MDNavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: "vertical"
                    MDTopAppBar:
                        title: "Weather Prediction Application"
                        left_action_items : [["menu", lambda x: nav_drawer.set_state()]]
                    ScrollView:
                        bar_width: 12

                        BoxLayout:
                            orientation: "vertical"
                            padding: 100
                            size_hint_y: None
                            height: self.minimum_height
                            Image:
                                id: plot1
                                source: ''
                                allow_stretch: False
                                keep_ratio: True
                                size_hint: (None, None)
                                height: 0
                                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                            BoxLayout:
                                id: box1
                                orientation: "horizontal"
                                spacing: 10  # Adjust the spacing between labels
                                padding: 10  # Adjust the padding around the layout
                                size_hint: (None, None)
                                height: 0
                                opacity:0
                                pos_hint: {'center_x': 0.5, 'center_y': 0.1}
                                Label:
                                    text: "Stand. Dev. = ?"
                                    color: 0, 0, 0, 1
                                Label:
                                    text: "Avg. = ?"
                                    color: 0, 0, 0, 1
                                Label:
                                    text: "Median = ?"
                                    color: 0, 0, 0, 1

                            Image:
                                id: plot2
                                source: 'temp_plot.png'
                                allow_stretch: False
                                keep_ratio: True
                                size_hint: (None, None)
                                height: 0
                                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                            BoxLayout:
                                id: box2
                                orientation: "horizontal"
                                spacing: 10  # Adjust the spacing between labels
                                padding: 10  # Adjust the padding around the layout
                                size_hint: (None, None)
                                height: 0
                                opacity:0
                                pos_hint: {'center_x': 0.5, 'center_y': 0.1}
                                Label:
                                    text: "Stand. Dev. = ?"
                                    color: 0, 0, 0, 1
                                Label:
                                    text: "Avg. = ?"
                                    color: 0, 0, 0, 1
                                Label:
                                    text: "Median = ?"
                                    color: 0, 0, 0, 1

                            Image:
                                id: plot3
                                source: 'temp_plot.png'
                                allow_stretch: False
                                keep_ratio: True
                                size_hint: (None, None)
                                height: 0
                                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                            BoxLayout:
                                id: box3
                                orientation: "horizontal"
                                spacing: 10  # Adjust the spacing between labels
                                padding: 10  # Adjust the padding around the layout
                                size_hint: (None, None)
                                height: 0
                                opacity:0
                                pos_hint: {'center_x': 0.5, 'center_y': 0.1}
                                Label:
                                    text: "Stand. Dev. = ?"
                                    color: 0, 0, 0, 1
                                Label:
                                    text: "Avg. = ?"
                                    color: 0, 0, 0, 1
                                Label:
                                    text: "Median = ?"
                                    color: 0, 0, 0, 1


        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: "Weather Prediction"
                            on_press: root.manager.current = "predictionScreen"
                            IconLeftWidget:
                                icon: "chart-bubble"

                        OneLineIconListItem:
                            text: "Download Data"
                            IconLeftWidget:
                                icon: "file-chart"

                        OneLineIconListItem:
                            on_press:
                                root.manager.current = "homeScreen"
                                root.manager.transition.direction = "left"
                            text: "HomePage"
                            IconLeftWidget:
                                icon: "logout"